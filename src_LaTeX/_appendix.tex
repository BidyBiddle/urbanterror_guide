%=======================================================================
% File         : _appendix.tex
% Title        : 
% Author(s)    : Sebastien VARRETTE <Sebastien.Varrette@uni.lu>
% Creation     : 06 Jul 2009
% Time-stamp:    <Thu 2012-06-28 00:27 svarrette>
%
% $Id$ 
% 
%   Copyright (c) 2009 Sebastien Varrette. 
%
% Licence: Creative Commons Attribution-Noncommercial-Share Alike 2.0 France
%
% You are free:
%   - to Share:  to copy, distribute and transmit the work
%   - to Remix: to adapt the work
%
% Under the following conditions:
%   - Attribution : You must attribute the work in the manner specified by the
%                   author or licensor (but  not in any way that suggests that
%                   they endorse you or your use of the work).  
%   - Noncommercial:  You may not use this work for commercial purposes.
%   - Share Alike: If you alter, transform, or build upon this work, you may
%                  distribute the resulting work only under the same or similar
%                  license to this one. 
%
% With the understanding that:
%   - Waiver: Any of the above conditions can be waived if you get permission from
%             the copyright holder. 
%   - Other Rights: In no way are any of the following rights affected by the
%                   license:  
%                    * Your fair dealing or fair use rights;
%                    * Apart from the remix rights granted under this license,
%                      the author's moral rights; 
%                     * Rights other persons may have either in the work itself
%                       or in how the work is used, such as publicity or privacy
%                       rights. 
%   - Notice:  For any reuse or distribution, you must make clear to others the
%              license terms of this work. The best way to do this is with a
%              link to this web page. 
%=======================================================================

\textbf{Important Note}: the scripts provided in this appendix are available for
download at the following url: 
\begin{center}
  \url{http://varrette.gforge.uni.lu/q3ut4/../config_files/}
\end{center}

%-------------------------------------------
\subsection{My personal \texttt{server.cfg}}
\label{anx:server.cfg}

\lstinputlisting[caption=The \texttt{/usr/local/urbanterror/q3ut4/server.cfg} configuration file,style=urtcfg,basicstyle=\scriptsize]{../config_files/q3ut4/server.cfg}

%----------------------------------------
\subsection{\texttt{/etc/init.d/urbanterror}}
\label{anx:init.d:urbanterror}

Remember to make this script executable (\texttt{chmod +x}) once copied in the
directory \texttt{/etc/init.d/}.

\lstinputlisting[caption=The startup script \texttt{/etc/init.d/urbanterror},style=urtcfg,basicstyle=\scriptsize]{../config_files/init.d/urbanterror}


%------------------------------------------------------------------
\subsection{Automatic generation of the file \texttt{mapcycle.txt.all}
  containing all maps available on the server}
\label{anx:mapcycle:all}

Put all those elements into the \texttt{/usr/local/games/urbanterror/q3ut4/}
directory. 

\lstinputlisting[language=sh,caption=The file \texttt{ mapcycle.txt.orig} listing the
default maps available by default,basicstyle=\scriptsize,numbers=none]{../config_files/q3ut4/mapcycle.txt.orig}
\lstinputlisting[language=sh,caption=The script \texttt{createmapcycles.sh},basicstyle=\scriptsize,numbers=none]{../config_files/q3ut4/createmapcycles.sh}

%------------------------------------------------------------------
\subsection{Randomizing the \texttt{mapcycle.txt}}
\label{anx:mapcycle:random}

As before, the following script should be placed in the server directory\\
\texttt{/usr/local/games/urbanterror/q3ut4/}. It assumes the presence of a file
named by default \texttt{mapcycle.txt.ref} that lists the maps you want to
randomize in the output file \texttt{mapcycle.txt}. 
If you want to use all possible maps with the file generated by my script
\texttt{createmapcycles.sh} proposed in the \S\ref{anx:mapcycle:all}, simply
create a symbolic link on \texttt{mapcycle.txt.all} as follows: 
\begin{lstlisting}[style=command]
[root@host]# cd /usr/local/games/urbanterror/q3ut4/
[root@host]# ln -s mapcycle.txt.all mapcycle.txt.ref
[root@host]# ./randomize_mapcycle.pl 
=> Mapcycle File ............ /usr/local/games/urbanterror/q3ut4/mapcycle.txt
=> Reference Mapcycle File .. /usr/local/games/urbanterror/q3ut4/mapcycle.txt.ref
=> Number of maps ........... 46
=> Randomizing /usr/local/games/urbanterror/q3ut4/mapcycle.txt.ref to generate 
/usr/local/games/urbanterror/q3ut4/mapcycle.txt


\end{lstlisting}

\lstinputlisting[language=perl,caption=The script \texttt{randomize\_mapcycle.pl},basicstyle=\scriptsize,numbers=none]{../config_files/q3ut4/randomize_mapcycle.pl}

%------------------------------------------------------------------
\subsection{B3 main configuration files}
\label{anx:b3:b3.xml}

\lstinputlisting[language=xml,caption=The B3 configuration file \texttt{/home/urbanterror/b3/conf/b3.xml},basicstyle=\scriptsize,numbers=none]{../config_files/b3/b3.xml}


%----------------------------------------
\subsection{\texttt{/etc/init.d/bigbrotherbot}}
\label{anx:init.d:b3}

\lstinputlisting[caption=The startup script \texttt{/etc/init.d/bigbrotherbot},style=urtcfg,basicstyle=\scriptsize]{../config_files/init.d/bigbrotherbot}





%~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
% eof
%
% Local Variables:
% fill-column: 80
% mode: latex
% mode: flyspell
% mode: auto-fill
% End:
